{"ast":null,"code":"import _slicedToArray from\"/home/gradjaku/Documents/Full Stack/part3/3.15/Frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from'react';import Note from'./components/Note';import Notification from'./components/Notification';import noteService from'./services/notes';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),notes=_useState2[0],setNotes=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),newNote=_useState4[0],setNewNote=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),newName=_useState6[0],setNewName=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),newNumber=_useState8[0],setNewNumber=_useState8[1];var _useState9=useState(true),_useState10=_slicedToArray(_useState9,2),showAll=_useState10[0],setShowAll=_useState10[1];var delete2=function delete2(id){console.log(id);noteService.delete3(id).then(function(response){console.log(response);}).catch(function(error){return console.log(error);});};useEffect(function(){noteService.getAll().then(function(initialNotes){setNotes(initialNotes);});},[]);var addNote=function addNote(event){event.preventDefault();var noteObject={name:newName,number:newNumber};if(notesToShow.filter(function(note){return note.name==newName;}).length!=0){console.log(\"update\");var existingNote=notesToShow.filter(function(note){return note.name==newName;});var id=existingNote[0].id;console.log(id);noteService.update(id,noteObject).then(function(returnedNote){setNotes(notes.filter(function(note){return note.name;}));setNotes(notes.concat(returnedNote));setNewNote('');});}else{noteService.create(noteObject).then(function(returnedNote){setNotes(notes.concat(returnedNote));setNewNote('');});}};var handleNameChange=function handleNameChange(event){setNewName(event.target.value);};var handleNumberChange=function handleNumberChange(event){setNewNumber(event.target.value);};var notesToShow=notes;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Telephone bdook app\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return delete2(\"adassdwq\");},children:\"X\"}),/*#__PURE__*/_jsx(\"ul\",{children:/*#__PURE__*/_jsx(\"ul\",{children:notesToShow.map(function(note){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Note,{name:note.name,number:note.number,id:note.id//delete2 = {delete2(note.id)}\n},note.id),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return delete2(note.id);},type:\"submit\",children:\"X\"})]});})})}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:addNote,children:[\"Name: \",/*#__PURE__*/_jsx(\"input\",{value:newName,onChange:handleNameChange}),\"Number: \",/*#__PURE__*/_jsx(\"input\",{value:newNumber,onChange:handleNumberChange}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"save\"})]})]});};export default App;","map":{"version":3,"names":["useState","useEffect","Note","Notification","noteService","App","notes","setNotes","newNote","setNewNote","newName","setNewName","newNumber","setNewNumber","showAll","setShowAll","delete2","id","console","log","delete3","then","response","catch","error","getAll","initialNotes","addNote","event","preventDefault","noteObject","name","number","notesToShow","filter","note","length","existingNote","update","returnedNote","concat","create","handleNameChange","target","value","handleNumberChange","map"],"sources":["/home/gradjaku/Documents/Full Stack/part3/3.15/Frontend/src/App.js"],"sourcesContent":["import { useState, useEffect } from 'react'\nimport Note from './components/Note'\nimport Notification from './components/Notification'\nimport noteService from './services/notes'\n\n\n\nconst App = () => {\n\n\n  const [notes, setNotes] = useState([])\n  const [newNote, setNewNote] = useState('')\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [showAll, setShowAll] = useState(true)\n\n  const delete2 = id => {\n    console.log(id)\n    noteService\n      .delete3(id)\n      .then(response => {\n        console.log(response);\n      })\n      .catch(error => console.log(error))\n  }\n\n  useEffect(() => {\n    noteService\n      .getAll()\n      .then(initialNotes => {\n        setNotes(initialNotes)\n      })\n  }, [])\n\n  const addNote = (event) => {\n    event.preventDefault()\n    const noteObject = {\n      name: newName,\n      number: newNumber,\n    }\n    if ( notesToShow.filter(note => note.name == newName).length != 0) {\n      console.log(\"update\");\n      let existingNote = notesToShow.filter(note => note.name == newName)\n      let id = existingNote[0].id\n      console.log(id);\n      \n      noteService\n      .update(id,noteObject)\n      .then(returnedNote => {\n        setNotes(notes.filter(note => note.name))\n        setNotes(notes.concat(returnedNote))\n        setNewNote('')\n      })\n    } else {\n\n    noteService\n      .create(noteObject)\n        .then(returnedNote => {\n        setNotes(notes.concat(returnedNote))\n        setNewNote('')\n      })\n    }\n  }\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const notesToShow = notes\n\n  return (\n    <div>\n      <h1>Telephone bdook app</h1>\n      <button onClick={()=>delete2(\"adassdwq\")}>X</button>\n      <ul>\n        <ul>\n          {notesToShow.map(note => \n          <div>\n          <Note\n          key={note.id}\n          name={note.name}\n          number={note.number}\n          id={note.id}\n          //delete2 = {delete2(note.id)}\n          />\n            <button onClick={() => delete2(note.id)} type=\"submit\">X</button>\n            </div>\n          )}\n        </ul>\n      </ul>\n      <form onSubmit={addNote}>\n        Name: <input value={newName} onChange={handleNameChange} />\n        Number: <input value={newNumber} onChange={handleNumberChange} />\n        <button type=\"submit\">save</button>\n      </form>\n    \n      \n    </div>\n  )\n}\n\nexport default App\n"],"mappings":"6IAAA,OAASA,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAC3C,MAAOC,KAAI,KAAM,mBAAmB,CACpC,MAAOC,aAAY,KAAM,2BAA2B,CACpD,MAAOC,YAAW,KAAM,kBAAkB,yFAI1C,GAAMC,IAAG,CAAG,QAANA,IAAG,EAAS,CAGhB,cAA0BL,QAAQ,CAAC,EAAE,CAAC,wCAA/BM,KAAK,eAAEC,QAAQ,eACtB,eAA8BP,QAAQ,CAAC,EAAE,CAAC,yCAAnCQ,OAAO,eAAEC,UAAU,eAC1B,eAA8BT,QAAQ,CAAC,EAAE,CAAC,yCAAnCU,OAAO,eAAEC,UAAU,eAC1B,eAAkCX,QAAQ,CAAC,EAAE,CAAC,yCAAvCY,SAAS,eAAEC,YAAY,eAC9B,eAA8Bb,QAAQ,CAAC,IAAI,CAAC,0CAArCc,OAAO,gBAAEC,UAAU,gBAE1B,GAAMC,QAAO,CAAG,QAAVA,QAAO,CAAGC,EAAE,CAAI,CACpBC,OAAO,CAACC,GAAG,CAACF,EAAE,CAAC,CACfb,WAAW,CACRgB,OAAO,CAACH,EAAE,CAAC,CACXI,IAAI,CAAC,SAAAC,QAAQ,CAAI,CAChBJ,OAAO,CAACC,GAAG,CAACG,QAAQ,CAAC,CACvB,CAAC,CAAC,CACDC,KAAK,CAAC,SAAAC,KAAK,QAAIN,QAAO,CAACC,GAAG,CAACK,KAAK,CAAC,GAAC,CACvC,CAAC,CAEDvB,SAAS,CAAC,UAAM,CACdG,WAAW,CACRqB,MAAM,EAAE,CACRJ,IAAI,CAAC,SAAAK,YAAY,CAAI,CACpBnB,QAAQ,CAACmB,YAAY,CAAC,CACxB,CAAC,CAAC,CACN,CAAC,CAAE,EAAE,CAAC,CAEN,GAAMC,QAAO,CAAG,QAAVA,QAAO,CAAIC,KAAK,CAAK,CACzBA,KAAK,CAACC,cAAc,EAAE,CACtB,GAAMC,WAAU,CAAG,CACjBC,IAAI,CAAErB,OAAO,CACbsB,MAAM,CAAEpB,SACV,CAAC,CACD,GAAKqB,WAAW,CAACC,MAAM,CAAC,SAAAC,IAAI,QAAIA,KAAI,CAACJ,IAAI,EAAIrB,OAAO,GAAC,CAAC0B,MAAM,EAAI,CAAC,CAAE,CACjElB,OAAO,CAACC,GAAG,CAAC,QAAQ,CAAC,CACrB,GAAIkB,aAAY,CAAGJ,WAAW,CAACC,MAAM,CAAC,SAAAC,IAAI,QAAIA,KAAI,CAACJ,IAAI,EAAIrB,OAAO,GAAC,CACnE,GAAIO,GAAE,CAAGoB,YAAY,CAAC,CAAC,CAAC,CAACpB,EAAE,CAC3BC,OAAO,CAACC,GAAG,CAACF,EAAE,CAAC,CAEfb,WAAW,CACVkC,MAAM,CAACrB,EAAE,CAACa,UAAU,CAAC,CACrBT,IAAI,CAAC,SAAAkB,YAAY,CAAI,CACpBhC,QAAQ,CAACD,KAAK,CAAC4B,MAAM,CAAC,SAAAC,IAAI,QAAIA,KAAI,CAACJ,IAAI,GAAC,CAAC,CACzCxB,QAAQ,CAACD,KAAK,CAACkC,MAAM,CAACD,YAAY,CAAC,CAAC,CACpC9B,UAAU,CAAC,EAAE,CAAC,CAChB,CAAC,CAAC,CACJ,CAAC,IAAM,CAEPL,WAAW,CACRqC,MAAM,CAACX,UAAU,CAAC,CAChBT,IAAI,CAAC,SAAAkB,YAAY,CAAI,CACtBhC,QAAQ,CAACD,KAAK,CAACkC,MAAM,CAACD,YAAY,CAAC,CAAC,CACpC9B,UAAU,CAAC,EAAE,CAAC,CAChB,CAAC,CAAC,CACJ,CACF,CAAC,CACD,GAAMiC,iBAAgB,CAAG,QAAnBA,iBAAgB,CAAId,KAAK,CAAK,CAClCjB,UAAU,CAACiB,KAAK,CAACe,MAAM,CAACC,KAAK,CAAC,CAChC,CAAC,CACD,GAAMC,mBAAkB,CAAG,QAArBA,mBAAkB,CAAIjB,KAAK,CAAK,CACpCf,YAAY,CAACe,KAAK,CAACe,MAAM,CAACC,KAAK,CAAC,CAClC,CAAC,CAED,GAAMX,YAAW,CAAG3B,KAAK,CAEzB,mBACE,oCACE,oBAAI,qBAAmB,EAAK,cAC5B,eAAQ,OAAO,CAAE,yBAAIU,QAAO,CAAC,UAAU,CAAC,EAAC,UAAC,GAAC,EAAS,cACpD,iCACE,oBACGiB,WAAW,CAACa,GAAG,CAAC,SAAAX,IAAI,qBACrB,oCACA,KAAC,IAAI,EAEL,IAAI,CAAEA,IAAI,CAACJ,IAAK,CAChB,MAAM,CAAEI,IAAI,CAACH,MAAO,CACpB,EAAE,CAAEG,IAAI,CAAClB,EACT;AAAA,EAJKkB,IAAI,CAAClB,EAAE,CAKV,cACA,eAAQ,OAAO,CAAE,yBAAMD,QAAO,CAACmB,IAAI,CAAClB,EAAE,CAAC,EAAC,CAAC,IAAI,CAAC,QAAQ,UAAC,GAAC,EAAS,GAC3D,GACP,EACE,EACF,cACL,cAAM,QAAQ,CAAEU,OAAQ,WAAC,QACjB,4BAAO,KAAK,CAAEjB,OAAQ,CAAC,QAAQ,CAAEgC,gBAAiB,EAAG,WACnD,4BAAO,KAAK,CAAE9B,SAAU,CAAC,QAAQ,CAAEiC,kBAAmB,EAAG,cACjE,eAAQ,IAAI,CAAC,QAAQ,UAAC,MAAI,EAAS,GAC9B,GAGH,CAEV,CAAC,CAED,cAAexC,IAAG"},"metadata":{},"sourceType":"module","externalDependencies":[]}